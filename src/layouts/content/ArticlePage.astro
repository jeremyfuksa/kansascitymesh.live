---
/**
 * Campfire Design System - Article Page Layout
 * Clean content-focused layout with optional CTAs
 */
import CampfireInnerPage from "./CampfireInnerPage.astro";
import CampfireButton from "../../components/campfire/CampfireButton.astro";
import CampfireDiscordCTA from "../../components/campfire/CampfireDiscordCTA.astro";

const { entry } = Astro.props as { entry: any };
const { Content } = await entry.render();
const data = entry.data ?? {};
const {
  title = "",
  description = "",
  pageHeading,
  actions = [],
  discordInvite,
  breadcrumbs = [],
  tableOfContents = [],
  meta,
} = data as Record<string, any>;
---

<CampfireInnerPage
  title={pageHeading ?? title}
  description={description}
  breadcrumbs={breadcrumbs}
  tableOfContents={tableOfContents}
  meta={meta}
  seoTitle={title}
  seoDescription={description}
>
  {/* Main Content */}
  <article class="content-body prose prose-neutral dark:prose-invert max-w-none">
    <Content />
  </article>

  {/* Action Buttons */}
  {actions.length > 0 && (
    <div class="flex flex-wrap gap-4 mt-8">
      {actions.map((action: any) => (
        <CampfireButton
          href={action.href}
          variant={action.variant || 'primary'}
        >
          {action.label}
        </CampfireButton>
      ))}
    </div>
  )}

  {/* Discord CTA */}
  {discordInvite && (
    <div class="mt-8">
      <CampfireDiscordCTA
        title={discordInvite.title}
        description={discordInvite.description}
        link={discordInvite.link}
        linkText={discordInvite.linkText}
      />
    </div>
  )}
</CampfireInnerPage>
