---
/**
 * Campfire Design System - CalloutBox Component
 * Based on mt/components/CalloutBox.tsx
 * Info, warning, success, and danger callout boxes with icons
 */
interface Props {
  type?: 'info' | 'warning' | 'success' | 'danger';
  title?: string;
  class?: string;
}

const { type = 'info', title, class: className = '' } = Astro.props;

const config = {
  info: {
    icon: 'fa-circle-info',
    bgColor: 'bg-[#3e4f66] dark:bg-[#3e4f66]',
    borderColor: 'border-[#364456]',
    iconBg: 'bg-[#a3b2c9] dark:bg-[#6284a0]',
    textColor: 'text-white',
    titleColor: 'text-white'
  },
  warning: {
    icon: 'fa-triangle-exclamation',
    bgColor: 'bg-amber-600 dark:bg-amber-600',
    borderColor: 'border-amber-600',
    iconBg: 'bg-amber-500',
    textColor: 'text-white',
    titleColor: 'text-white'
  },
  success: {
    icon: 'fa-circle-check',
    bgColor: 'bg-[#5a6f2d] dark:bg-[#5a6f2d]',
    borderColor: 'border-[#5a6f2d]',
    iconBg: 'bg-[#739038]',
    textColor: 'text-white',
    titleColor: 'text-white'
  },
  danger: {
    icon: 'fa-circle-exclamation',
    bgColor: 'bg-[#dc3a38] dark:bg-[#dc3a38]',
    borderColor: 'border-[#dc3a38]',
    iconBg: 'bg-[#c12f2d]',
    textColor: 'text-white',
    titleColor: 'text-white'
  }
};

const { icon, bgColor, borderColor, iconBg, textColor, titleColor } = config[type];
---

<div class={`${bgColor} rounded-[10px] border ${borderColor} p-4 lg:p-6 shadow-[0px_1px_3px_0px_rgba(76,98,125,0.12),0px_1px_2px_0px_rgba(76,98,125,0.08)] ${className}`}>
  <div class="flex gap-4">
    <div class="flex-shrink-0">
      <div class={`w-10 h-10 ${iconBg} rounded-[10px] flex items-center justify-center`}>
        <i class={`fa-solid ${icon} text-white text-lg`} aria-hidden="true"></i>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      {title && (
        <h4 class={`text-[16px] font-bold ${titleColor} mb-2`}>
          {title}
        </h4>
      )}
      <div class={`text-[14px] lg:text-[16px] ${textColor} leading-[1.7]`}>
        <slot />
      </div>
    </div>
  </div>
</div>
