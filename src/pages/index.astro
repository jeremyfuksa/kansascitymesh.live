---
/**
 * Kansas City Meshtastic - Complete One Page Site
 * Everything you need on one page. No internal navigation.
 */
import Layout from "../layouts/Layout.astro";
import { getEntry } from "astro:content";

const entry = await getEntry({ collection: "pages", slug: "index" });
if (!entry) throw new Error("Missing content entry: pages/index");

const { Content } = await entry.render();
---

<Layout
  title="Kansas City Meshtastic Network"
  description="Community-built Meshtastic mesh network for the Kansas City metro. 135+ nodes and growing."
>
  <!-- Hero -->
  <section class="container-site py-16 lg:py-24">
    <div class="max-w-prose">
      <h1 class="text-4xl lg:text-5xl font-bold text-neutral-900 dark:text-neutral-50 mb-6">
        KC Meshtastic is already on the air
      </h1>
      <p class="text-xl text-neutral-600 dark:text-neutral-400 leading-relaxed mb-8">
        Real nodes, real coverage, and daily observations from builders spread across the metro.
        This is a playbook for joining, not a pitch deck.
      </p>
      <div class="flex flex-wrap gap-4">
        <a
          href="https://map.kansascitymesh.live"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-lg transition-colors"
        >
          Watch the coverage map
          <i class="fa-solid fa-arrow-up-right-from-square text-sm" aria-hidden="true"></i>
        </a>
        <a
          href="https://discord.gg/eP5VSPKU"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 px-6 py-3 border-2 border-primary-600 text-primary-600 dark:border-primary-400 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-950 font-semibold rounded-lg transition-colors"
        >
          Join Discord
          <i class="fa-solid fa-arrow-up-right-from-square text-sm" aria-hidden="true"></i>
        </a>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <section class="container-site py-16 lg:py-24 border-t border-neutral-200 dark:border-neutral-800">
    <article class="prose prose-lg prose-neutral dark:prose-invert max-w-prose">
      <Content />
    </article>
  </section>

  <!-- Getting Started -->
  <section class="container-site py-16 lg:py-24 border-t border-neutral-200 dark:border-neutral-800">
    <div class="max-w-prose">
      <h2 class="text-3xl lg:text-4xl font-bold text-neutral-900 dark:text-neutral-50 mb-6">
        How to plug in fast
      </h2>
      <ol class="space-y-4 text-lg text-neutral-700 dark:text-neutral-300 mb-8">
        <li>
          Buy a radio (see hardware below) and flash it with Meshtastic firmware
        </li>
        <li>
          Announce your install plan in <a href="https://discord.gg/eP5VSPKU" target="_blank" rel="noopener noreferrer" class="text-primary-600 dark:text-primary-400 hover:underline">Discord</a> so neighboring nodes know to look for you
        </li>
        <li>
          Check elevation and line-of-sight with the <a href="https://site.meshtastic.org" target="_blank" rel="noopener noreferrer" class="text-primary-600 dark:text-primary-400 hover:underline">Meshtastic site tool</a> before you move antennas outside
        </li>
      </ol>

      <h3 class="text-2xl font-bold text-neutral-900 dark:text-neutral-50 mb-4 mt-12">
        Hardware to buy
      </h3>
      <p class="text-neutral-600 dark:text-neutral-400 mb-6">
        Start cheap, learn your neighborhood, then invest in the sites that deserve it.
      </p>

      <div class="space-y-6">
        <!-- Budget Radio -->
        <div class="border border-neutral-200 dark:border-neutral-800 rounded-lg p-6">
          <h4 class="text-xl font-bold text-neutral-900 dark:text-neutral-50 mb-2">
            Budget starter: Heltec LoRa32 V3
          </h4>
          <p class="text-neutral-600 dark:text-neutral-400 mb-4">
            $25–$35. Bright OLED, easy to flash, tiny enough for stealth installs. Needs a companion phone or laptop for messaging.
          </p>
          <a
            href="https://www.amazon.com/s?k=Heltec+LoRa32+V3"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-lg transition-colors text-sm"
          >
            Search on Amazon
            <i class="fa-solid fa-arrow-up-right-from-square text-xs" aria-hidden="true"></i>
          </a>
        </div>

        <!-- T-Beam -->
        <div class="border border-neutral-200 dark:border-neutral-800 rounded-lg p-6">
          <h4 class="text-xl font-bold text-neutral-900 dark:text-neutral-50 mb-2">
            Mobile/GPS option: LILYGO T-Beam
          </h4>
          <p class="text-neutral-600 dark:text-neutral-400 mb-4">
            $40–$55. Includes GPS and an 18650 tray. Great for mobile clients and vehicle experiments.
          </p>
          <a
            href="https://www.amazon.com/s?k=LILYGO+T-Beam+Meshtastic"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-lg transition-colors text-sm"
          >
            Search on Amazon
            <i class="fa-solid fa-arrow-up-right-from-square text-xs" aria-hidden="true"></i>
          </a>
        </div>

        <!-- T-Deck -->
        <div class="border border-neutral-200 dark:border-neutral-800 rounded-lg p-6">
          <h4 class="text-xl font-bold text-neutral-900 dark:text-neutral-50 mb-2">
            Portable with keyboard: LILYGO T-Deck
          </h4>
          <p class="text-neutral-600 dark:text-neutral-400 mb-4">
            $65–$75. Built-in keyboard, display, and battery. Perfect for testing coverage from rooftops or balconies without a phone.
          </p>
          <a
            href="https://www.amazon.com/s?k=LILYGO+T-Deck+Meshtastic"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-lg transition-colors text-sm"
          >
            Search on Amazon
            <i class="fa-solid fa-arrow-up-right-from-square text-xs" aria-hidden="true"></i>
          </a>
        </div>

        <!-- RAK WisBlock -->
        <div class="border border-neutral-200 dark:border-neutral-800 rounded-lg p-6">
          <h4 class="text-xl font-bold text-neutral-900 dark:text-neutral-50 mb-2">
            Infrastructure ready: RAK WisBlock
          </h4>
          <p class="text-neutral-600 dark:text-neutral-400 mb-4">
            $70–$90. Modular boards designed for rugged outdoor enclosures. Pair with a waterproof box and power system for semi-permanent routers.
          </p>
          <a
            href="https://www.amazon.com/s?k=RAK+WisBlock+Meshtastic"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-lg transition-colors text-sm"
          >
            Search on Amazon
            <i class="fa-solid fa-arrow-up-right-from-square text-xs" aria-hidden="true"></i>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Discord CTA -->
  <section class="container-site py-16 lg:py-24 border-t border-neutral-200 dark:border-neutral-800">
    <div class="max-w-prose">
      <h2 class="text-3xl lg:text-4xl font-bold text-neutral-900 dark:text-neutral-50 mb-4">
        Get unstuck with the crew
      </h2>
      <p class="text-lg text-neutral-600 dark:text-neutral-400 mb-6">
        There's almost always someone awake in the server to sanity-check an install or read RSSI logs.
      </p>
      <a
        href="https://discord.gg/eP5VSPKU"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-2 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-lg transition-colors"
      >
        Join the server
        <i class="fa-solid fa-arrow-up-right-from-square text-sm" aria-hidden="true"></i>
      </a>
    </div>
  </section>

  <!-- Final CTA -->
  <section class="container-site py-16 lg:py-24 border-t border-neutral-200 dark:border-neutral-800">
    <div class="max-w-prose">
      <h2 class="text-3xl lg:text-4xl font-bold text-neutral-900 dark:text-neutral-50 mb-4">
        Deploy a node this weekend
      </h2>
      <p class="text-lg text-neutral-600 dark:text-neutral-400 mb-6">
        A $40 indoor client with a window view still helps. Once it's running, we'll figure out the next upgrade together.
      </p>
      <a
        href="https://discord.gg/eP5VSPKU"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-2 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-lg transition-colors"
      >
        Join Discord to get started
        <i class="fa-solid fa-arrow-up-right-from-square text-sm" aria-hidden="true"></i>
      </a>
    </div>
  </section>
</Layout>
